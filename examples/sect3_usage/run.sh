#!/bin/bash

echo "Verifying bpwtcl.aig"
echo ""
echo "-------------------------------------------------------------------------"
echo "1: Substitution"
echo "-------------------------------------------------------------------------"
echo ""
echo ""
echo "-------------------------------------------------------------------------"
echo "AMulet2.0"
echo "-------------------------------------------------------------------------"
echo ""
../../amulet -substitute bpwtcl.aig miter.cnf rewritten.aig

echo ""
echo ""
echo "-------------------------------------------------------------------------"
echo "Kissat"
echo "-------------------------------------------------------------------------"
echo ""
../../tools/kissat/build/kissat --unsat miter.cnf

echo ""
echo ""
echo "-------------------------------------------------------------------------"
echo "2: Verification"
echo "-------------------------------------------------------------------------"
echo ""
echo ""
echo "-------------------------------------------------------------------------"
echo "AMulet2.0"
echo "-------------------------------------------------------------------------"
echo ""
../../amulet -verify rewritten.aig


echo ""
echo ""
echo "-------------------------------------------------------------------------"
echo "3: Certification"
echo "-------------------------------------------------------------------------"
echo ""
echo ""
echo "-------------------------------------------------------------------------"
echo "AMulet2.0"
echo "-------------------------------------------------------------------------"
echo ""
../../amulet -certify rewritten.aig out.pol out.prf out.spc
echo ""
echo ""
echo "-------------------------------------------------------------------------"
echo "NussChecker"
echo "-------------------------------------------------------------------------"
echo ""
../../tools/nusschecker/nusschecker out.pol out.prf out.spc

echo "done"

# Daniela Kaufmann
